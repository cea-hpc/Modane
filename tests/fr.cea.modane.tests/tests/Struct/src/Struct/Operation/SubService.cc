#include "Struct/__ITest.h"
#include "Struct/Operation/__IOperand.h"
#include "Struct/Operation/SubService.h"

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

using namespace Arcane;
namespace StructOperation {

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

SubService::
SubService(const ServiceBuildInfo & sbi)
: SubServiceBase<SubService>(sbi)
{
}

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

SubService::
~SubService()
{
}

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

void SubService::
apply(SubApplyVars& vars, ConstArrayView<IOperand*> op, Array<Integer>& result)
{
	result.resize(op.size());
	for (Integer i=0 ; i<op.size() ; ++i)
	{
		result[i] = op[i]->getX() - op[i]->getY();
	}
}

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

ARCANE_REGISTER_SERVICE_SUB(Sub, SubService);

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

} // namespace StructOperation
